# 11. Properties of Context-Free Languages

---

## What is a Context-Free Language (CFL)?

A **context-free language** is any language that can be generated by a context-free grammar (CFG) or recognized by a pushdown automaton (PDA).

---

## Closure Properties

CFLs are **closed** under:
- **Union**: If L1 and L2 are CFLs, so is L1 ∪ L2.
- **Concatenation**: L1L2 is a CFL.
- **Kleene Star**: L1* is a CFL.
- **Substitution**: Replacing symbols with CFLs yields a CFL.
- **Homomorphism**: Applying a symbol mapping preserves context-freeness.
- **Inverse Homomorphism**: The preimage under a mapping is a CFL.

CFLs are **not closed** under:
- **Intersection:** L1 ∩ L2 may not be a CFL.
- **Complement:** The complement of a CFL may not be a CFL.
- **Difference:** L1 - L2 may not be a CFL.

---

## Examples

- **L1 = {a^n b^n | n ≥ 0}:** CFL, generated by S → aSb | ε
- **L2 = {a^n b^n c^n | n ≥ 0}:** Not CFL

**Union Example:**
- L1 = {a^n b^n | n ≥ 0}, L2 = {a^n b^(2n) | n ≥ 0}
- L1 ∪ L2 is a CFL.

**Intersection Non-Closure Example:**
- L1 = {a^i b^j c^k | i = j or j = k}
- L2 = {a^i b^j c^k | i = k}
- L1 ∩ L2 = {a^n b^n c^n | n ≥ 0} (not CFL)

---

## Decidability

- **Membership:** Given w and CFG G, is w ∈ L(G)? (Decidable: CYK algorithm)
- **Emptiness:** Is L(G) = ∅? (Decidable)
- **Finiteness:** Is L(G) finite? (Decidable)
- **Equivalence:** L(G1) = L(G2)? (Undecidable)

---

## Pumping Lemma for CFLs

- Similar to the regular pumping lemma, but more complex. Used to prove a language is not context-free.

---

## Chomsky and Greibach Normal Forms

- **Chomsky Normal Form (CNF):** All rules A → BC or A → a.
- **Greibach Normal Form (GNF):** All rules A → aα (a terminal followed by zero or more nonterminals).

---

## Ogden's Lemma

- A stronger version of the pumping lemma for CFLs.
- Used when the regular pumping lemma fails to show non-context-freeness.

---

## Ambiguity in CFLs

- A CFL may have ambiguous grammars (multiple leftmost derivations for some strings).
- Some languages are inherently ambiguous (no unambiguous grammar exists).

---

## Decision Problems

- **Is a CFG ambiguous?** (Undecidable)
- **Is a string in the language of a given CFG?** (Decidable)

---

## Applications

- Programming language parsing
- Mathematical expression evaluation
- Syntax-directed translation

---

## Interview Patterns

- Prove a given language is (not) context-free.
- Show that CFLs are not closed under intersection/complement.
- Use the pumping lemma for CFLs to prove non-context-freeness.
- Convert a CFG to CNF.

---

## Common Pitfalls

- Assuming all closure properties from regular languages apply to CFLs.
- Misapplying the pumping lemma for CFLs.
- Forgetting that ambiguity may be inherent.

---

## Exercises

1. Show that the intersection of two CFLs may not be a CFL.
2. Prove that the complement of a CFL is not necessarily a CFL.
3. Use the pumping lemma to show {a^n b^n c^n | n ≥ 0} is not context-free.
4. Convert a CFG to CNF.
5. Give an example of an inherently ambiguous language.

---

## Key Interview Questions

- What closure properties do CFLs have?
- Is the intersection of two CFLs always a CFL?
- How do you decide if a string belongs to a CFL?

---

## Summary

Context-free languages are powerful but have limitations compared to regular languages, especially regarding closure properties and ambiguity.

---
